{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajat Srivastava\\\\Desktop\\\\health-project\\\\src\\\\Patient.js\";\nimport React, { Component } from 'react';\nimport View from './View.js';\nimport './Patient.css';\n\nconst axios = require('axios'); //const url=\"NewPro-env.q4mxnbtu3g.us-east-1.elasticbeanstalk.com\";\n\n\nconst url = \"localhost:8001\";\nexport class Patient extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      patient_email: this.props.email,\n      patient_id: this.props.id,\n      patient_name: this.props.name,\n      patient_data: []\n    };\n    this.pview = this.pview.bind(this);\n    this.allow = this.allow.bind(this);\n    this.disallow = this.disallow.bind(this);\n  }\n\n  async pview(e) {\n    let patient_data = [];\n    await axios.post(\"http://\" + url + \"/get_patient_data\", {\n      \"patient_id\": this.state.patient_id\n    }).then(jsonResponse => {\n      console.log(jsonResponse);\n      patient_data = jsonResponse['data']['chain'];\n    }).catch(error => {\n      console.log(error);\n    });\n    this.setState({\n      patient_data: patient_data\n    });\n    console.log(this.state.patient_data);\n  }\n\n  async allow() {\n    await axios.post(\"http://localhost:8000/allow\", {\n      \"emailId\": this.state.patient_email\n    }).then(jsonResponse => {\n      console.log(jsonResponse);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  async disallow() {\n    await axios.post(\"http://localhost:8000/disallow\", {\n      \"emailId\": this.state.patient_email\n    }).then(jsonResponse => {\n      console.log(jsonResponse);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  async componentWillMount() {\n    console.log(this.state.patient_email);\n    await this.pview();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"patienthome\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"view11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Hello, \", this.state.patient_name), React.createElement(\"button\", {\n      className: \"allow\",\n      onClick: this.allow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Allow Access\"), React.createElement(\"button\", {\n      className: \"disallow\",\n      onClick: this.disallow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Revoke Access\"), React.createElement(\"h5\", {\n      className: \"h1\",\n      style: {\n        color: \"#003300\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Patient id:\", this.state.patient_id), React.createElement(\"div\", {\n      className: \"view1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, this.state.patient_data.map(d => React.createElement(View, {\n      data: d,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      className: \"cancelback\",\n      onClick: this.props.goback,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Log out!\")));\n  }\n\n}\nexport default Patient;","map":{"version":3,"sources":["C:/Users/Rajat Srivastava/Desktop/health-project/src/Patient.js"],"names":["React","Component","View","axios","require","url","Patient","constructor","props","state","patient_email","email","patient_id","id","patient_name","name","patient_data","pview","bind","allow","disallow","e","post","then","jsonResponse","console","log","catch","error","setState","componentWillMount","render","color","map","d","goback"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAO,eAAP;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB,C,CACA;;;AACA,MAAMC,GAAG,GAAC,gBAAV;AACA,OAAO,MAAMC,OAAN,SAAsBL,SAAtB,CAAgC;AACnCM,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,aAAa,EAAC,KAAKF,KAAL,CAAWG,KADlB;AAEPC,MAAAA,UAAU,EAAC,KAAKJ,KAAL,CAAWK,EAFf;AAGPC,MAAAA,YAAY,EAAC,KAAKN,KAAL,CAAWO,IAHjB;AAIPC,MAAAA,YAAY,EAAC;AAJN,KAAX;AAMA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWD,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAED,QAAMD,KAAN,CAAYI,CAAZ,EAAc;AACV,QAAIL,YAAY,GAAC,EAAjB;AACA,UAAMb,KAAK,CAACmB,IAAN,CAAW,YAAUjB,GAAV,GAAc,mBAAzB,EAA8C;AAAC,oBAAc,KAAKI,KAAL,CAAWG;AAA1B,KAA9C,EACDW,IADC,CACIC,YAAY,IAAE;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAR,MAAAA,YAAY,GAAGQ,YAAY,CAAC,MAAD,CAAZ,CAAqB,OAArB,CAAf;AACH,KAJC,EAKDG,KALC,CAKKC,KAAK,IAAE;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KAPC,CAAN;AAQA,SAAKC,QAAL,CAAc;AACVb,MAAAA,YAAY,EAAEA;AADJ,KAAd;AAGAS,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWO,YAAvB;AACH;;AAED,QAAMG,KAAN,GAAa;AACT,UAAMhB,KAAK,CAACmB,IAAN,CAAW,6BAAX,EAA0C;AAAC,iBAAW,KAAKb,KAAL,CAAWC;AAAvB,KAA1C,EACDa,IADC,CACIC,YAAY,IAAE;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACH,KAHC,EAIDG,KAJC,CAIKC,KAAK,IAAE;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KANC,CAAN;AAOH;;AAED,QAAMR,QAAN,GAAgB;AACZ,UAAMjB,KAAK,CAACmB,IAAN,CAAW,gCAAX,EAA6C;AAAC,iBAAW,KAAKb,KAAL,CAAWC;AAAvB,KAA7C,EACDa,IADC,CACIC,YAAY,IAAE;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACH,KAHC,EAIDG,KAJC,CAIKC,KAAK,IAAE;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KANC,CAAN;AAOH;;AAED,QAAME,kBAAN,GAA0B;AACtBL,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWC,aAAvB;AACA,UAAM,KAAKO,KAAL,EAAN;AACH;;AAEFc,EAAAA,MAAM,GAAE;AACN,WACO;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA2B,KAAKtB,KAAL,CAAWK,YAAtC,CADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,OAAlB;AAA0B,MAAA,OAAO,EAAE,KAAKK,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAGI;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAA6B,MAAA,OAAO,EAAE,KAAKC,QAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHJ,EAII;AAAI,MAAA,SAAS,EAAC,IAAd;AAAmB,MAAA,KAAK,EAAE;AAACY,QAAAA,KAAK,EAAC;AAAP,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAyD,KAAKvB,KAAL,CAAWG,UAApE,CAJJ,EAKI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKH,KAAL,CAAWO,YAAX,CAAwBiB,GAAxB,CAA4BC,CAAC,IAAE,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAEA,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA/B,CADL,CALJ,EAQI;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,OAAO,EAAE,KAAK1B,KAAL,CAAW2B,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,CADA,CADP;AAcA;;AAtEkC;AAwEvC,eAAe7B,OAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport View from './View.js';\r\nimport './Patient.css';\r\nconst axios = require('axios');\r\n//const url=\"NewPro-env.q4mxnbtu3g.us-east-1.elasticbeanstalk.com\";\r\nconst url=\"localhost:8001\";\r\nexport class Patient extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            patient_email:this.props.email,\r\n            patient_id:this.props.id,\r\n            patient_name:this.props.name,\r\n            patient_data:[]\r\n        }\r\n        this.pview = this.pview.bind(this);\r\n        this.allow = this.allow.bind(this);\r\n        this.disallow = this.disallow.bind(this);\r\n    }\r\n\r\n    async pview(e){\r\n        let patient_data=[];\r\n        await axios.post(\"http://\"+url+\"/get_patient_data\", {\"patient_id\": this.state.patient_id})\r\n            .then(jsonResponse=>{\r\n                console.log(jsonResponse);\r\n                patient_data = jsonResponse['data']['chain'];\r\n            })\r\n            .catch(error=>{\r\n                console.log(error);\r\n            })\r\n        this.setState({\r\n            patient_data: patient_data\r\n        });\r\n        console.log(this.state.patient_data);\r\n    }\r\n\r\n    async allow(){\r\n        await axios.post(\"http://localhost:8000/allow\", {\"emailId\": this.state.patient_email})\r\n            .then(jsonResponse=>{\r\n                console.log(jsonResponse);\r\n            })\r\n            .catch(error=>{\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    async disallow(){\r\n        await axios.post(\"http://localhost:8000/disallow\", {\"emailId\": this.state.patient_email})\r\n            .then(jsonResponse=>{\r\n                console.log(jsonResponse);\r\n            })\r\n            .catch(error=>{\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    async componentWillMount(){\r\n        console.log(this.state.patient_email);\r\n        await this.pview();\r\n    }\r\n\r\n  \trender(){\r\n    \treturn (\r\n            <div className=\"patienthome\">\r\n            <div className=\"view11\">\r\n                <h1 className=\"h1\">Hello, {this.state.patient_name}</h1>\r\n                <button className=\"allow\" onClick={this.allow}>Allow Access</button>\r\n                <button className=\"disallow\" onClick={this.disallow}>Revoke Access</button>\r\n                <h5 className=\"h1\" style={{color:\"#003300\"}}>Patient id:{this.state.patient_id}</h5>\r\n                <div className=\"view1\">\r\n                    {this.state.patient_data.map(d=><View data={d}/>)}\r\n                </div>\r\n                <button className=\"cancelback\" onClick={this.props.goback}>Log out!</button>\r\n            </div>\r\n            </div>\r\n    \t)\r\n    }\r\n}\r\nexport default Patient;"]},"metadata":{},"sourceType":"module"}